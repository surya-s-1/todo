(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[787],{2790:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return s(9861)}])},5041:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var r=s(7876),a=s(4232),n=s(8102),l=s(3791);let o={info:(0,r.jsx)(n.$4v,{className:"text-blue-500 text-xl shrink-0"}),warning:(0,r.jsx)(n.jDV,{className:"text-yellow-500 text-xl shrink-0"}),error:(0,r.jsx)(n.XfH,{className:"text-red-500 text-xl shrink-0"}),success:(0,r.jsx)(l.t$n,{className:"text-green-500 text-xl shrink-0"})},i={info:"bg-blue-50 border-blue-300",warning:"bg-yellow-50 border-yellow-300",error:"bg-red-50 border-red-300",success:"bg-green-50 border-green-300"},c={info:"text-blue-800",warning:"text-yellow-800",error:"text-red-800",success:"text-green-800"};function d(e){let{type:t,message:s}=e,a=o[t],n=i[t],l=c[t];return(0,r.jsxs)("div",{className:"flex items-start gap-3 p-4 border rounded-lg ".concat(n),children:[(0,r.jsx)("div",{className:"pt-0.5",children:a}),(0,r.jsx)("p",{className:"text-sm ".concat(l),children:s})]})}function u(){let[e,t]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let e;let s=async()=>{try{let s=await fetch("".concat("https://todo-backend-8x1z.onrender.com/health"));200===s.status?(t({type:"success",message:"The backend systems are up. You can now use the platform."}),clearInterval(e)):t({type:"warning",message:"Please note: it might take a couple of minutes for the backend services to start if they have been inactive for a while. If login doesn't work right away, just give it a moment and try again."})}catch(e){t({type:"warning",message:"Please note: it might take a couple of minutes for the backend services to start if they have been inactive for a while. If login doesn't work right away, just give it a moment and try again."})}};return s(),e=setInterval(s,5e3),()=>clearInterval(e)},[]),e)?(0,r.jsx)(d,{type:e.type,message:e.message}):null}},9861:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(7876),a=s(9099),n=s(4232),l=s(5041);let o=()=>{(0,n.useEffect)(()=>{document.title="Register | To-Do App"},[]);let[e,t]=(0,n.useState)(""),[s,o]=(0,n.useState)(""),[i,c]=(0,n.useState)(""),d=(0,a.useRouter)(),u=async t=>{try{t.preventDefault();let r=await fetch("".concat("https://todo-backend-8x1z.onrender.com/auth/user","/register")||0,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:s})});if(!r.ok){console.error("Failed to register",r);let e=await r.json();c((null==e?void 0:e.message)||"Failed to register");return}d.push("/login")}catch(e){console.error("Failed to register",e),c("Failed to register")}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{}),(0,r.jsx)("div",{className:"flex flex-col items-center justify-center h-screen",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl mb-2",children:"Register"}),(0,r.jsx)("span",{className:"text-red-500",children:i}),(0,r.jsxs)("form",{onSubmit:u,className:"flex flex-col items-start gap-4 mt-2",children:[(0,r.jsx)("input",{type:"input",value:e,placeholder:"Username",onChange:e=>t(e.target.value),required:!0,className:"m-0 p-2 border border-gray-300 rounded"}),(0,r.jsx)("input",{type:"password",value:s,placeholder:"Password",onChange:e=>o(e.target.value),required:!0,className:"m-0 p-2 border border-gray-300 rounded"}),(0,r.jsx)("button",{type:"submit",className:"m-0 px-4 py-2 bg-blue-500 text-white rounded cursor-pointer",children:"Register"}),(0,r.jsxs)("span",{className:"text-sm",children:["Already have an account? ",(0,r.jsx)("a",{href:"/todo/login",className:"text-blue-500",children:"Login"})]})]})]})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[897,236,636,593,792],()=>t(2790)),_N_E=e.O()}]);